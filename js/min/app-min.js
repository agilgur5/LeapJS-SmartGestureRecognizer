!function e(t,n,s){function a(i,c){if(!n[i]){if(!t[i]){var l="function"==typeof require&&require;if(!c&&l)return l(i,!0);if(r)return r(i,!0);var o=new Error("Cannot find module '"+i+"'");throw o.code="MODULE_NOT_FOUND",o}var u=n[i]={exports:{}};t[i][0].call(u.exports,function(e){var n=t[i][1][e];return a(n?n:e)},u,u.exports,e,t,n,s)}return n[i].exports}for(var r="function"==typeof require&&require,i=0;i<s.length;i++)a(s[i]);return a}({1:[function(e,t,n){var s,a,r,i;i=React.createClass({render:function(){var e,t,n;return n=this.props.selectedGesture,t=this.props.selectGesture,e=this.props.labels.map(function(e,s){var a;return a="gesture_label",n===s&&(a+=" Selected"),React.createElement("li",{className:a,onClick:t,"data-index":s},e)}),e.push(React.createElement("li",{className:"gesture_label",id:"new_gesture_label",onClick:this.props.newGesture},"+ New gesture")),e.unshift(React.createElement("h1",null,"Gestures")),React.createElement("ul",{id:"gesture_list"},e)}}),a=React.createClass({render:function(){return React.createElement("ul",{className:"GestureActions"},React.createElement("li",null,React.createElement("button",{type:"button",className:"printName"===this.props.currentAction?"Selected":"",onClick:this.props.setAction,"data-index":this.props.index,"data-action":"printName"},"Show name")),React.createElement("li",null,React.createElement("button",{type:"button",className:"prevTab"===this.props.currentAction?"Selected":"",onClick:this.props.setAction,"data-index":this.props.index,"data-action":"prevTab"},"Prev. tab")),React.createElement("li",null,React.createElement("button",{type:"button",className:"nextTab"===this.props.currentAction?"Selected":"",onClick:this.props.setAction,"data-index":this.props.index,"data-action":"nextTab"},"Next tab")),React.createElement("li",null,React.createElement("button",{type:"button",className:"fistbump"===this.props.currentAction?"Selected":"",onClick:this.props.setAction,"data-index":this.props.index,"data-action":"fistbump"},"Fistbump")))}}),r=React.createClass({getInitialState:function(){return{name:this.props.name}},componentDidMount:function(){return this.refs.gestureNameField.getDOMNode().focus()},componentWillReceiveProps:function(e){return this.setState({name:e.name})},handleChange:function(e){return this.props.setGestureName(e),this.setState({name:e.target.value})},render:function(){return console.log("Name: "+this.props.name),React.createElement("main",null,React.createElement("input",{type:"text",placeholder:"Gesture name",id:"gestureNameField",value:this.state.name,onChange:this.handleChange,"data-index":this.props.index,ref:"gestureNameField"}),React.createElement("h3",null,"Gesture action:"),a({setAction:this.props.setAction,index:this.props.index,currentAction:this.props.actions[this.props.index]}))}}),s=React.createClass({bridge:{},componentDidMount:function(){var e;return this.bridge=window.Bridge.build(),e=this,this.bridge.onFrame=function(t){var n,s,a;return a=FingerUtils.toNormalizedFrame(t),console.log("onframe"),e.state.isRecording?learner.addDatapoint(a,e.state.currentLabel):null!=learner.net&&learner.train_labels.length>0?(s=learner.predictLabel(a),console.log("predicting"),e.flashElement(document.getElementsByClassName("gesture_label")[s]),n=e.state.actions[s],n&&this[n](),e.setState({prediction:e.state.labels[s]})):void 0}},startRecording:function(){var e,t;return this.state.isRecording?this.setState({isRecording:!1}):(t=prompt("What gesture is this?","finger point"),null==t?alert("Incorrect input"):(e=this.state.labels.indexOf(t),this.setState(-1!==e?{isRecording:!0,currentLabel:e}:{isRecording:!0,labels:this.state.labels.concat([""+t]),currentLabel:this.state.labels.length})))},newGesture:function(){var e,t;return t=this.state.labels,t.push("Unnamed gesture"),e=t.length-1,this.setState({labels:t,selectedGesture:e,isEditingGestures:!0})},selectGesture:function(e){var t,n;return t=parseInt(e.target.getAttribute("data-index"),10),n=t===this.state.selectedGesture?-1:t,this.setState({selectedGesture:n})},printName:function(){return console.log("Print name")},prevTab:function(){},nextTab:function(){},fistbump:function(){},setAction:function(e){var t,n,s;return t=e.target.getAttribute("data-action"),s=parseInt(e.target.getAttribute("data-index"),10),n=this.state.actions,n[s]=t,this.setState({actions:n})},getInitialState:function(){return{isRecording:!1,currentLabel:0,actions:[null,null,null],labels:["rest","finger point","fist"],prediction:"Prediction goes here",isEditingGestures:!1,selectedGesture:-1}},flashElement:function(e){return e.className="gesture_label Selected",setTimeout(function(){return e.className="gesture_label"},250),setTimeout(function(){return e.className="gesture_label Selected"},500),setTimeout(function(){return e.className="gesture_label"},750)},setGestureName:function(e){var t,n;return t=parseInt(e.target.getAttribute("data-index"),10),n=this.state.labels,n[t]=e.target.value,this.setState({labels:n})},render:function(){var e,t;return t=this.state.isEditingGestures?React.createElement("button",{id:"record_button",onClick:this.startRecording},this.state.isRecording?"Stop recording":"Start recording"):"",e=this.state.selectedGesture>=0?r({name:this.state.labels[this.state.selectedGesture],index:this.state.selectedGesture,setGestureName:this.setGestureName,setAction:this.setAction,actions:this.state.actions}):React.createElement("p",{id:"nothingSelected"},"Nothing selected"),React.createElement("section",null,React.createElement("aside",{id:"meta"},React.createElement("p",null,React.createElement("strong",null,"CS 4701 (Fall 2014)")),React.createElement("p",null,"Feifan Zhou, Teresa Li, Anton Gilgur")),React.createElement("div",null,this.state.prediction),i({labels:this.state.labels,newGesture:this.newGesture,selectedGesture:this.state.selectedGesture,selectGesture:this.selectGesture}),React.createElement("article",{id:"actions"},e,t),React.createElement("aside",{id:"action_buttons"},React.createElement("button",{id:"import"},"Import data"),React.createElement("button",{id:"export"},"Export data")))}}),React.render(s(),document.getElementById("content"))},{}]},{},[1]);